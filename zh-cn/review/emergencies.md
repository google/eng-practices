# 紧急情况

有时候紧急 CL 必须尽快通过 code review 过程。

## 什么是紧急情况？ {#what}

一个紧急 CL 可以是这样的**小**更新: 让产品发布能够继续进行而不是回滚，能够修好目前在产品里对用户造成严重影响的 bug, 能够处理紧迫的法律问题，能够修好重大安全漏洞等。


在紧急情况下，我们真正关心的是 code review 的整体速度，而不是[评论的回复速度](reviewer/speed.md)。仅在这种情况下，审查人员应该更关心审查的速度和代码的正确性（是否解决了紧急情况？）。此外（显然）这类状况的审查应该优先于所有其他 code review。

但是，在紧急情况解决后，您应该再次查看紧急 CL 并进行[更彻底的审查](reviewer/looking-for.md)。

## 什么不是紧急情况？ {#not}

需要说明的是，以下情况并非紧急情况：

 - 想要在本周而不是下周推出（除非有一些实际[硬性截止日期](#deadlines)，例如合作伙伴协议）。
 - 开发人员已经在这个 feature 上 努力了很久，他们真的很想把这段代码提交上去。
 - 审查者都在另一个时区，目前是夜间或者他们正在外面参加公司组织的其他活动。
 - 现在是星期五，在开发者在过周末之前能把这个 CL 提交进代码库会很棒。
 - 经理说这次代码审查必须完成，这段代码必须要在今天提交，因为今天是一个[非硬性的截止日期（soft deadline)](#deadlines)。(如果是硬性截止日期，CL 可以被看作成一个紧急 CL。)
 - 回滚一个导致测试失败（test failure）或构建破坏 (build breakages) 的 CL。

等等。

## 什么是 Hard Deadline？ {#deadlines}

硬性截止日期（Hard Deadline）是指如果你错过它会发生灾难性的事情。例如：

 - 对于合同义务，必须在特定日期之前提交 CL。
 - 如果在某个日期之前没有发布，您的产品将在市场上完全失败。
 - 一些硬件制造商每年只发送一次新硬件。如果您错过了向他们提交代码的截止日期，那么这可能是灾难性的，具体取决于您尝试发布的代码类型。

延迟产品发布一周并不是灾难，错过一场重要会议可能是个灾难 (但通常不是)。(毕竟你也不想让你刚刚发布的产品里有严重的bug。)

大多数截止日期都是软截止日期，而非最后期限。软截止日期表示希望在特定时间内完成某项功能。它们很重要，但你不应该以牺牲代码健康为前提来达到。

如果您的发布周期很长（几周），那么在下一个周期之前就可能会牺牲代码审查质量来获取功能。然而，如果重复这种模式，往往会给项目建立压倒性技术债务。如果开发组经常在开发周期快结束时才提交代码，审查者也草率的进行代码审查只为了能让代码赶紧提交，那么团队应该修改其流程，以便在周期的早期发生大的功能变更，并有足够的时间进行良好的审查。
